{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Diogo_Ramos\\\\Desktop\\\\book-rest-api-reactjs\\\\src\\\\main\\\\webapp\\\\reactjs\\\\src\\\\components\\\\Book\\\\BookList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteBook } from '../../services/index';\nimport './../../assets/css/Style.css';\nimport { Card, Table, Image, ButtonGroup, Button, InputGroup, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faList, faEdit, faTrash, faStepBackward, faFastBackward, faStepForward, faFastForward, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport MyToast from '../MyToast';\nimport axios from 'axios';\n\nclass BookList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortData = () => {\n      setTimeout(() => {\n        this.state.sortDir === \"asc\" ? this.setState({\n          sortDir: \"desc\"\n        }) : this.setState({\n          sortDir: \"asc\"\n        });\n        this.findAllBooks(this.state.currentPage);\n      }, 500);\n    };\n\n    this.deleteBook = bookId => {\n      this.props.deleteBook(bookId);\n      setTimeout(() => {\n        if (this.props.bookObject != null) {\n          this.setState({\n            \"show\": true\n          });\n          setTimeout(() => this.setState({\n            \"show\": false\n          }), 3000);\n          this.findAllBooks(this.state.currentPage);\n        } else {\n          this.setState({\n            \"show\": false\n          });\n        }\n      }, 1000);\n      /*axios.delete(\"http://localhost:8081/rest/books/\"+bookId)\r\n          .then(response => {\r\n              if(response.data != null) {\r\n                  this.setState({\"show\":true});\r\n                  setTimeout(() => this.setState({\"show\":false}), 3000);\r\n                  this.setState({\r\n                      books: this.state.books.filter(book => book.id !== bookId)\r\n                  });\r\n              } else {\r\n                  this.setState({\"show\":false});\r\n              }\r\n          });*/\n    };\n\n    this.changePage = event => {\n      let targetPage = parseInt(event.target.value);\n\n      if (this.state.search) {\n        this.searchData(targetPage);\n      } else {\n        this.findAllBooks(targetPage);\n      }\n\n      this.setState({\n        [event.target.name]: targetPage\n      });\n    };\n\n    this.firstPage = () => {\n      let firstPage = 1;\n\n      if (this.state.currentPage > firstPage) {\n        if (this.state.search) {\n          this.searchData(firstPage);\n        } else {\n          this.findAllBooks(firstPage);\n        }\n      }\n    };\n\n    this.prevPage = () => {\n      let prevPage = 1;\n\n      if (this.state.currentPage > prevPage) {\n        if (this.state.search) {\n          this.searchData(this.state.currentPage - prevPage);\n        } else {\n          this.findAllBooks(this.state.currentPage - prevPage);\n        }\n      }\n    };\n\n    this.lastPage = () => {\n      let condition = Math.ceil(this.state.totalElements / this.state.booksPerPage);\n\n      if (this.state.currentPage < condition) {\n        if (this.state.search) {\n          this.searchData(condition);\n        } else {\n          this.findAllBooks(condition);\n        }\n      }\n    };\n\n    this.nextPage = () => {\n      if (this.state.currentPage < Math.ceil(this.state.totalElements / this.state.booksPerPage)) {\n        if (this.state.search) {\n          this.searchData(this.state.currentPage + 1);\n        } else {\n          this.findAllBooks(this.state.currentPage + 1);\n        }\n      }\n    };\n\n    this.searchChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.cancelSearch = () => {\n      this.setState({\n        \"search\": ''\n      });\n      this.findAllBooks(this.state.currentPage);\n    };\n\n    this.searchData = currentPage => {\n      currentPage -= 1;\n      axios.get(\"http://localhost:8081/rest/books/search/\" + this.state.search + \"?page=\" + currentPage + \"&size=\" + this.state.booksPerPage).then(response => response.data).then(data => {\n        this.setState({\n          books: data.content,\n          totalPages: data.totalPages,\n          totalElements: data.totalElements,\n          currentPage: data.number + 1\n        });\n      });\n    };\n\n    this.state = {\n      books: [],\n      search: '',\n      currentPage: 1,\n      booksPerPage: 5,\n      sortDir: \"asc\"\n    };\n  }\n\n  componentDidMount() {\n    this.findAllBooks(this.state.currentPage);\n  }\n  /*findAllBooks() {\r\n      fetch(\"http://localhost:8081/rest/books\")\r\n          .then(response => response.json())\r\n          .then((data) => {\r\n              this.setState({books: data});\r\n          });\r\n  };*/\n\n\n  findAllBooks(currentPage) {\n    currentPage -= 1;\n    axios.get(\"http://localhost:8081/rest/books?pageNumber=\" + currentPage + \"&pageSize=\" + this.state.booksPerPage + \"&sortBy=price&sortDir=\" + this.state.sortDir).then(response => response.data).then(data => {\n      this.setState({\n        books: data.content,\n        totalPages: data.totalPages,\n        totalElements: data.totalElements,\n        currentPage: data.number + 1\n      });\n    });\n  }\n\n  render() {\n    const {\n      books,\n      currentPage,\n      totalPages,\n      search\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"display\": this.state.show ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MyToast, {\n      show: this.state.show,\n      message: \"Book Deleted Successfully.\",\n      type: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"left\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }), \" Book List\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      placeholder: \"Search\",\n      name: \"search\",\n      value: search,\n      className: \"info-border bg-dark text-white\",\n      onChange: this.searchChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-info\",\n      type: \"button\",\n      onClick: this.searchData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-danger\",\n      type: \"button\",\n      onClick: this.cancelSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 41\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      bordered: true,\n      hover: true,\n      striped: true,\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 35\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 35\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 35\n      }\n    }, \"ISBN Number\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: this.sortData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 35\n      }\n    }, \"Price \", /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.sortDir === \"asc\" ? \"arrow arrow-up\" : \"arrow arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 69\n      }\n    }, \" \")), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 35\n      }\n    }, \"Language\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 35\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 35\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 31\n      }\n    }, books.length === 0 ? /*#__PURE__*/React.createElement(\"tr\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 39\n      }\n    }, \"No Books Available.\")) : books.map(book => /*#__PURE__*/React.createElement(\"tr\", {\n      key: book.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: book.coverPhotoURL,\n      roundedCircle: true,\n      width: \"25\",\n      height: \"25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 45\n      }\n    }), \" \", book.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 41\n      }\n    }, book.author), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 41\n      }\n    }, book.isbnNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 41\n      }\n    }, book.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 41\n      }\n    }, book.language), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 41\n      }\n    }, book.genre), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"edit/\" + book.id,\n      className: \"btn btn-sm btn-outline-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 119\n      }\n    })), ' ', /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-danger\",\n      onClick: this.deleteBook.bind(this, book.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 138\n      }\n    }))))))))), books.length > 0 ? /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"left\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    }, \"Showing Page \", currentPage, \" of \", totalPages), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === 1 ? true : false,\n      onClick: this.firstPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFastBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 45\n      }\n    }), \" First\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === 1 ? true : false,\n      onClick: this.prevPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faStepBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 45\n      }\n    }), \" Prev\")), /*#__PURE__*/React.createElement(FormControl, {\n      className: \"page-num bg-dark\",\n      name: \"currentPage\",\n      value: currentPage,\n      onChange: this.changePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === totalPages ? true : false,\n      onClick: this.nextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faStepForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 45\n      }\n    }), \" Next\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === totalPages ? true : false,\n      onClick: this.lastPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFastForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 45\n      }\n    }), \" Last\"))))) : null));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    bookObject: state.book\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteBook: bookId => dispatch(deleteBook(bookId))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookList);","map":{"version":3,"sources":["C:/Users/Diogo_Ramos/Desktop/book-rest-api-reactjs/src/main/webapp/reactjs/src/components/Book/BookList.js"],"names":["React","Component","connect","deleteBook","Card","Table","Image","ButtonGroup","Button","InputGroup","FormControl","FontAwesomeIcon","faList","faEdit","faTrash","faStepBackward","faFastBackward","faStepForward","faFastForward","faSearch","faTimes","Link","MyToast","axios","BookList","constructor","props","sortData","setTimeout","state","sortDir","setState","findAllBooks","currentPage","bookId","bookObject","changePage","event","targetPage","parseInt","target","value","search","searchData","name","firstPage","prevPage","lastPage","condition","Math","ceil","totalElements","booksPerPage","nextPage","searchChange","cancelSearch","get","then","response","data","books","content","totalPages","number","componentDidMount","render","show","length","map","book","id","coverPhotoURL","title","author","isbnNumber","price","language","genre","bind","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\nimport {deleteBook} from '../../services/index';\r\n\r\nimport './../../assets/css/Style.css';\r\nimport {Card, Table, Image, ButtonGroup, Button, InputGroup, FormControl} from 'react-bootstrap';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faList, faEdit, faTrash, faStepBackward, faFastBackward, faStepForward, faFastForward, faSearch, faTimes} from '@fortawesome/free-solid-svg-icons';\r\nimport {Link} from 'react-router-dom';\r\nimport MyToast from '../MyToast';\r\nimport axios from 'axios';\r\n\r\nclass BookList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            books : [],\r\n            search : '',\r\n            currentPage : 1,\r\n            booksPerPage : 5,\r\n            sortDir: \"asc\"\r\n        };\r\n    }\r\n\r\n    sortData = () => {\r\n        setTimeout(() => {\r\n            this.state.sortDir === \"asc\" ? this.setState({sortDir: \"desc\"}) : this.setState({sortDir: \"asc\"});\r\n            this.findAllBooks(this.state.currentPage);\r\n        }, 500);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.findAllBooks(this.state.currentPage);\r\n    }\r\n\r\n    /*findAllBooks() {\r\n        fetch(\"http://localhost:8081/rest/books\")\r\n            .then(response => response.json())\r\n            .then((data) => {\r\n                this.setState({books: data});\r\n            });\r\n    };*/\r\n\r\n    findAllBooks(currentPage) {\r\n        currentPage -= 1;\r\n        axios.get(\"http://localhost:8081/rest/books?pageNumber=\"+currentPage+\"&pageSize=\"+this.state.booksPerPage+\"&sortBy=price&sortDir=\"+this.state.sortDir)\r\n            .then(response => response.data)\r\n            .then((data) => {\r\n                this.setState({\r\n                    books: data.content,\r\n                    totalPages: data.totalPages,\r\n                    totalElements: data.totalElements,\r\n                    currentPage: data.number + 1\r\n                });\r\n            });\r\n    };\r\n\r\n    /*deleteBook = (bookId) => {\r\n        fetch(\"http://localhost:8081/rest/books/\"+bookId, {\r\n            method: 'DELETE'\r\n        })\r\n        .then(response => response.json())\r\n        .then((book) => {\r\n            if(book) {\r\n                this.setState({\"show\":true});\r\n                setTimeout(() => this.setState({\"show\":false}), 3000);\r\n                this.setState({\r\n                    books: this.state.books.filter(book => book.id !== bookId)\r\n                });\r\n            } else {\r\n                this.setState({\"show\":false});\r\n            }\r\n        });\r\n    };*/\r\n\r\n    deleteBook = (bookId) => {\r\n        this.props.deleteBook(bookId);\r\n        setTimeout(() => {\r\n            if(this.props.bookObject != null) {\r\n                this.setState({\"show\":true});\r\n                setTimeout(() => this.setState({\"show\":false}), 3000);\r\n                this.findAllBooks(this.state.currentPage);\r\n            } else {\r\n                this.setState({\"show\":false});\r\n            }\r\n        }, 1000);\r\n        /*axios.delete(\"http://localhost:8081/rest/books/\"+bookId)\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\"show\":true});\r\n                    setTimeout(() => this.setState({\"show\":false}), 3000);\r\n                    this.setState({\r\n                        books: this.state.books.filter(book => book.id !== bookId)\r\n                    });\r\n                } else {\r\n                    this.setState({\"show\":false});\r\n                }\r\n            });*/\r\n    };\r\n\r\n    changePage = event => {\r\n        let targetPage = parseInt(event.target.value);\r\n        if(this.state.search) {\r\n            this.searchData(targetPage);\r\n        } else {\r\n            this.findAllBooks(targetPage);\r\n        }\r\n        this.setState({\r\n            [event.target.name]: targetPage\r\n        });\r\n    };\r\n\r\n    firstPage = () => {\r\n        let firstPage = 1;\r\n        if(this.state.currentPage > firstPage) {\r\n            if(this.state.search) {\r\n                this.searchData(firstPage);\r\n            } else {\r\n                this.findAllBooks(firstPage);\r\n            }\r\n        }\r\n    };\r\n\r\n    prevPage = () => {\r\n        let prevPage = 1;\r\n        if(this.state.currentPage > prevPage) {\r\n            if(this.state.search) {\r\n                this.searchData(this.state.currentPage - prevPage);\r\n            } else {\r\n                this.findAllBooks(this.state.currentPage - prevPage);\r\n            }\r\n        }\r\n    };\r\n\r\n    lastPage = () => {\r\n        let condition = Math.ceil(this.state.totalElements / this.state.booksPerPage);\r\n        if(this.state.currentPage < condition) {\r\n            if(this.state.search) {\r\n                this.searchData(condition);\r\n            } else {\r\n                this.findAllBooks(condition);\r\n            }\r\n        }\r\n    };\r\n\r\n    nextPage = () => {\r\n        if(this.state.currentPage < Math.ceil(this.state.totalElements / this.state.booksPerPage)) {\r\n            if(this.state.search) {\r\n                this.searchData(this.state.currentPage + 1);\r\n            } else {\r\n                this.findAllBooks(this.state.currentPage + 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    searchChange = event => {\r\n        this.setState({\r\n            [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    cancelSearch = () => {\r\n        this.setState({\"search\" : ''});\r\n        this.findAllBooks(this.state.currentPage);\r\n    };\r\n\r\n    searchData = (currentPage) => {\r\n        currentPage -= 1;\r\n        axios.get(\"http://localhost:8081/rest/books/search/\"+this.state.search+\"?page=\"+currentPage+\"&size=\"+this.state.booksPerPage)\r\n            .then(response => response.data)\r\n            .then((data) => {\r\n                this.setState({\r\n                    books: data.content,\r\n                    totalPages: data.totalPages,\r\n                    totalElements: data.totalElements,\r\n                    currentPage: data.number + 1\r\n                });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {books, currentPage, totalPages, search} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div style={{\"display\":this.state.show ? \"block\" : \"none\"}}>\r\n                    <MyToast show = {this.state.show} message = {\"Book Deleted Successfully.\"} type = {\"danger\"}/>\r\n                </div>\r\n                <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header>\r\n                        <div style={{\"float\":\"left\"}}>\r\n                            <FontAwesomeIcon icon={faList} /> Book List\r\n                        </div>\r\n                        <div style={{\"float\":\"right\"}}>\r\n                             <InputGroup size=\"sm\">\r\n                                <FormControl placeholder=\"Search\" name=\"search\" value={search}\r\n                                    className={\"info-border bg-dark text-white\"}\r\n                                    onChange={this.searchChange}/>\r\n                                <InputGroup.Append>\r\n                                    <Button size=\"sm\" variant=\"outline-info\" type=\"button\" onClick={this.searchData}>\r\n                                        <FontAwesomeIcon icon={faSearch}/>\r\n                                    </Button>\r\n                                    <Button size=\"sm\" variant=\"outline-danger\" type=\"button\" onClick={this.cancelSearch}>\r\n                                        <FontAwesomeIcon icon={faTimes} />\r\n                                    </Button>\r\n                                </InputGroup.Append>\r\n                             </InputGroup>\r\n                        </div>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Table bordered hover striped variant=\"dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                  <th>Title</th>\r\n                                  <th>Author</th>\r\n                                  <th>ISBN Number</th>\r\n                                  <th onClick={this.sortData}>Price <div className={this.state.sortDir === \"asc\" ? \"arrow arrow-up\" : \"arrow arrow-down\"}> </div></th>\r\n                                  <th>Language</th>\r\n                                  <th>Genre</th>\r\n                                  <th>Actions</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {\r\n                                    books.length === 0 ?\r\n                                    <tr align=\"center\">\r\n                                      <td colSpan=\"7\">No Books Available.</td>\r\n                                    </tr> :\r\n                                    books.map((book) => (\r\n                                    <tr key={book.id}>\r\n                                        <td>\r\n                                            <Image src={book.coverPhotoURL} roundedCircle width=\"25\" height=\"25\"/> {book.title}\r\n                                        </td>\r\n                                        <td>{book.author}</td>\r\n                                        <td>{book.isbnNumber}</td>\r\n                                        <td>{book.price}</td>\r\n                                        <td>{book.language}</td>\r\n                                        <td>{book.genre}</td>\r\n                                        <td>\r\n                                            <ButtonGroup>\r\n                                                <Link to={\"edit/\"+book.id} className=\"btn btn-sm btn-outline-primary\"><FontAwesomeIcon icon={faEdit} /></Link>{' '}\r\n                                                <Button size=\"sm\" variant=\"outline-danger\" onClick={this.deleteBook.bind(this, book.id)}><FontAwesomeIcon icon={faTrash} /></Button>\r\n                                            </ButtonGroup>\r\n                                        </td>\r\n                                    </tr>\r\n                                    ))\r\n                                }\r\n                              </tbody>\r\n                        </Table>\r\n                    </Card.Body>\r\n                    {books.length > 0 ?\r\n                        <Card.Footer>\r\n                            <div style={{\"float\":\"left\"}}>\r\n                                Showing Page {currentPage} of {totalPages}\r\n                            </div>\r\n                            <div style={{\"float\":\"right\"}}>\r\n                                <InputGroup size=\"sm\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false}\r\n                                            onClick={this.firstPage}>\r\n                                            <FontAwesomeIcon icon={faFastBackward} /> First\r\n                                        </Button>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false}\r\n                                            onClick={this.prevPage}>\r\n                                            <FontAwesomeIcon icon={faStepBackward} /> Prev\r\n                                        </Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl className={\"page-num bg-dark\"} name=\"currentPage\" value={currentPage}\r\n                                        onChange={this.changePage}/>\r\n                                    <InputGroup.Append>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false}\r\n                                            onClick={this.nextPage}>\r\n                                            <FontAwesomeIcon icon={faStepForward} /> Next\r\n                                        </Button>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false}\r\n                                            onClick={this.lastPage}>\r\n                                            <FontAwesomeIcon icon={faFastForward} /> Last\r\n                                        </Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </div>\r\n                        </Card.Footer> : null\r\n                     }\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        bookObject: state.book\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        deleteBook: (bookId) => dispatch(deleteBook(bookId))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookList);"]},"metadata":{},"sourceType":"module"}